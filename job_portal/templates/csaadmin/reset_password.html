{% extends "shared/base.html" %}

{% block content %}
<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <div class="card mt-4">
        <div class="card-body">
          <h5 class="card-title">Reset Password</h5>
          <form method="POST" action="">
            {% csrf_token %}
            <div class="mb-3">
              <label for="password" class="form-label">New Password</label>
              <!-- Add a custom ID to the password input field to access it in the script -->
              <input type="password" class="form-control" id="password" name="password" required>
            </div>
            <button type="submit" class="btn btn-primary">Reset Password</button>
            <button type="button" class="btn btn-secondary" id="generate-password">Generate Password</button>
            <!-- Add a span element to show the generated password -->
            <span id="generated-password"></span>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
document.addEventListener("DOMContentLoaded", function () {
  const generatePasswordButton = document.getElementById("generate-password");
  const passwordInput = document.getElementById("password");
  const generatedPasswordSpan = document.getElementById("generated-password");

  generatePasswordButton.addEventListener("click", function () {
    // Generate a random password (you can customize the function to generate the password)
    const generatedPassword = generateRandomPassword();

    // Show the generated password in the span element
    generatedPasswordSpan.textContent = "Generated Password: " + generatedPassword;

    // Temporarily change the input type to "text" to display the generated password
    passwordInput.type = "text";

    // Set the generated password in the password input field
    passwordInput.value = generatedPassword;

    // Change the input type back to "password" after a short delay (2 seconds in this example)
    setTimeout(function () {
      passwordInput.type = "password";
    }, 2000);
  });

  // Function to generate a random password (you can customize this function as per your requirements)
  function generateRandomPassword() {
    const length = 12;
    const charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
    let password = "";
    for (let i = 0; i < length; i++) {
      const randomIndex = Math.floor(Math.random() * charset.length);
      password += charset[randomIndex];
    }
    return password;
  }
});
</script>
{% endblock %}
